{"version":3,"file":"index.mjs","sources":["../src/util.js","../node_modules/preact/dist/preact.mjs","../src/index.js"],"sourcesContent":["// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nexport let encodeEntities = s => String(s)\n\t.replace(/&/g, '&amp;')\n\t.replace(/</g, '&lt;')\n\t.replace(/>/g, '&gt;')\n\t.replace(/\"/g, '&quot;');\n\nexport let indent = (s, char) => String(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) => (String(s).length>(length || 40) || (!ignoreLines && String(s).indexOf('\\n')!==-1) || String(s).indexOf('<')!==-1);\n\nconst JS_TO_CSS = {};\n\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val!=null) {\n\t\t\tif (str) str += ' ';\n\t\t\t// str += jsToCss(prop);\n\t\t\tstr += JS_TO_CSS[prop] || (JS_TO_CSS[prop] = prop.replace(/([A-Z])/g,'-$1').toLowerCase());\n\t\t\tstr += ': ';\n\t\t\tstr += val;\n\t\t\tif (typeof val==='number' && IS_NON_DIMENSIONAL.test(prop)===false) {\n\t\t\t\tstr += 'px';\n\t\t\t}\n\t\t\tstr += ';';\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Copy all properties from `props` onto `obj`.\n * @param {object} obj Object onto which properties should be copied.\n * @param {object} props Object from which to copy properties.\n * @returns {object}\n * @private\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t}\n\telse if (children!=null && children!==false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n","var l,n,u,t,i={},r=[],f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function e(l,n){for(var u in n)l[u]=n[u];return l}function o(l,n,u){var t,i,r,f,e=arguments;if(null==n&&(n={}),arguments.length>3)for(u=[u],t=3;t<arguments.length;t++)u.push(e[t]);if(null!=u&&(n.children=u),null!=l&&null!=l.defaultProps)for(i in l.defaultProps)void 0===n[i]&&(n[i]=l.defaultProps[i]);return(r=n.ref)&&delete n.ref,(f=n.key)&&delete n.key,c(l,n,null,f,r)}function c(n,u,t,i,r){var f={type:n,props:u,text:t,key:i,ref:r,__k:null,__e:null,l:null,__c:null};return l.vnode&&l.vnode(f),f}function s(){return{}}function a(){}function h(l){return null==l||\"boolean\"==typeof l?null:\"string\"==typeof l||\"number\"==typeof l?c(null,null,l,null,null):Array.isArray(l)?o(a,null,l):null!=l.__e?c(l.type,l.props,l.text,l.key,null):l}function v(l,n){this.props=l,this.context=n}function y(t){!t.__d&&(t.__d=!0)&&1===n.push(t)&&(l.debounceRendering||u)(p)}function p(){for(var l;l=n.pop();)l.__d&&l.forceUpdate()}function d(l,n,u,t,f,e,o,c){var s,v,y,p,d,b,g,w,k,x,A=m(n),C=null==u||u==i?r:m(u),N=C.length,T=C.length?C[0]&&C[0].__e:null;if(null!=e)for(v=0;v<e.length;v++)if(null!=e[v]){T=e[v];break}for(v=0;v<A.length;v++){if(s=A[v]=h(A[v]),b=d=null,null!=(p=C[v])&&(null==s.key&&null==p.key?s.type===p.type:s.key===p.key))d=v;else for(y=0;y<N;y++)if(null!=(p=C[y])&&(null==s.key&&null==p.key?s.type===p.type:s.key===p.key)){d=y;break}if(null!=d&&(b=C[d],C[d]=null),w=null!=T&&T.nextSibling,g=_(null==b?null:b.__e,l,s,b,t,f,e,o,c),null!=s&&null!=g){if(x=document.activeElement,null!=s.l)g=s.l;else if(e==b||g!=T||null==g.parentNode)l:if(null==T||T.parentNode!==l)l.appendChild(g);else{for(k=T,y=0;(k=k.nextSibling)&&y++<N/2;)if(k===g)break l;l.insertBefore(g,T)}x!==document.activeElement&&x.focus(),T=null!=g?g.nextSibling:w}}if(null!=e&&n.type!==a)for(v=e.length;v--;)null!=e[v]&&e[v].remove();for(v=C.length;v--;)null!=C[v]&&P(C[v],c)}function m(l){return null==l.__k&&b(l.props.children,l.__k=[]),l.__k}function b(l,n){if(null==n&&(n=[]),null==l||\"boolean\"==typeof l);else if(Array.isArray(l))for(var u=0;u<l.length;u++)b(l[u],n);else n.push(h(l));return n}function g(l,n,u,t){var i,r;for(i in n)\"children\"===i||\"key\"===i||u&&u[i]==n[i]||w(l,i,n[i],u[i],t);for(r in u)\"children\"===r||\"key\"===r||n&&r in n||w(l,r,null,u[r],t)}function w(l,n,u,t,i){var r,e,o,c,s,a;if(\"class\"!==n&&\"className\"!==n||(n=i?\"class\":\"className\"),\"style\"===n){if(e=l.style,\"string\"==typeof u)e.cssText=u;else for(o in\"string\"==typeof t&&(e.cssText=\"\"),t)null!=u&&o in u||e.setProperty(o,\"\");for(c in u)r=u[c],null!=t&&r===t[c]||e.setProperty(c.replace(/-?(?=[A-Z])/g,\"-\"),\"number\"==typeof r&&!1===f.test(c)?r+\"px\":r)}else\"dangerouslySetInnerHTML\"===n?u&&t&&u.__html==t.__html||(l.innerHTML=u&&u.__html||\"\"):\"o\"===n[0]&&\"n\"===n[1]?(s=n!==(n=n.replace(/Capture$/,\"\")),a=n.toLowerCase(),n=(a in l?a:n).substring(2),u?t||l.addEventListener(n,k,s):l.removeEventListener(n,k,s),(l.n||(l.n={}))[n]=u):\"list\"!==n&&!i&&n in l?l[n]=null==u?\"\":u:null==u||!1===u?l.removeAttribute(n):\"function\"!=typeof u&&l.setAttribute(n,u)}function k(n){return this.n[n.type](l.event?l.event(n):n)}function _(n,u,t,r,f,o,c,s,y){var p,m,b,g,w,k,x,$,j,z,D,H,I,L;if(null==r||null==t||r.type!==t.type){if(null!=r&&P(r,y),null==t)return null;n=null,r=i}l.diff&&l.diff(t),b=!1,x=t.type;try{l:if(r.type===a||x===a)d(u,t,r,f,o,c,s,p),t.__k.length&&(n=t.__k[0].__e,t.l=t.__k[t.__k.length-1].__e);else if(\"function\"==typeof x){if(z=(j=x.contextType)&&f[j.__c],D=null!=j?z?z.props.value:j.__p:f,r.__c?$=(p=t.__c=r.__c).__p:(b=!0,x.prototype&&x.prototype.render?t.__c=p=new x(t.props,D):(t.__c=p=new v(t.props,D),p.constructor=x,p.render=N),p.__a=y,z&&z.sub(p),p.props=t.props,p.state||(p.state={}),p.context=D,p.__n=f,p.__d=!0,p.__h=[]),p.__v=t,H=p.__s||p.state,null!=x.getDerivedStateFromProps&&(w=e({},p.state),H===p.state&&(H=e({},H)),e(H,x.getDerivedStateFromProps(t.props,H))),b)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&s.push(p);else{if(!p.u&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(t.props,H,D)){p.__d=!1;break l}null==x.getDerivedStateFromProps&&null==p.u&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(t.props,D),null!=p.componentWillUpdate&&p.componentWillUpdate(t.props,H,D)}g=p.props,w||(w=p.state),k=p.context=D,p.props=t.props,p.state=H,l.render&&l.render(t),I=p.__t,L=p.__t=h(p.render(p.props,p.state,p.context)),p.__d=!1,null!=p.getChildContext&&(f=e(e({},f),p.getChildContext())),b||null==p.getSnapshotBeforeUpdate||(k=p.getSnapshotBeforeUpdate(g,w)),p.base=n=_(n,u,L,I,f,o,c,s,p),null!=L&&(t.l=L.l),p.t=u,t.ref&&C(t.ref,p,y)}else n=A(n,t,r,f,o,c,s,y),t.ref&&r.ref!==t.ref&&C(t.ref,n,y);if(t.__e=n,null!=p){for(;m=p.__h.pop();)m();b||null==g||null==p.componentDidUpdate||p.componentDidUpdate(g,w,k)}$&&(p.__p=null),l.diffed&&l.diffed(t)}catch(l){T(l,y)}return n}function x(n,u){for(var t;t=n.pop();)try{t.componentDidMount()}catch(l){T(l,t.__a)}l.commit&&l.commit(u)}function A(l,n,u,t,i,f,e,o){var c,s,a,h,v=l;if(i=i?\"foreignObject\"!==n.type:\"svg\"===n.type,null==l&&null!=f)for(c=0;c<f.length;c++)if(null!=(s=f[c])&&(null===n.type?3===s.nodeType:s.localName===n.type)){l=s,f[c]=null;break}if(null==l&&(l=null===n.type?document.createTextNode(n.text):i?document.createElementNS(\"http://www.w3.org/2000/svg\",n.type):document.createElement(n.type),f=null),n.__e=l,null===n.type)null!==v&&l!==v||n.text===u.text||(l.data=n.text);else{if(null!=f&&null!=l.childNodes&&(f=r.slice.call(l.childNodes)),n!==u){if(null==(a=u.props)&&(a={},null!=f))for(h=0;h<l.attributes.length;h++)a[l.attributes[h].name]=l.attributes[h].value;g(l,n.props,a,i)}d(l,n,u,t,i,f,e,o)}return l}function C(l,n,u){try{\"function\"==typeof l?l(n):l.current=n}catch(l){T(l,u)}}function P(n,u){var t,i;if(l.unmount&&l.unmount(n),(t=n.ref)&&C(t,null,u),null!=(t=n.__e)&&t.remove(),n.__e=n.l=null,null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){T(l,u)}t.base=t.t=null,(t=t.__t)&&P(t,u)}else if(t=n.__k)for(i=0;i<t.length;i++)P(t[i],u)}function N(l,n,u){return this.constructor(l,u)}function T(l,n){for(;n;n=n.__a)if(!n.__p)try{if(null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(l));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(l)}return y(n.__p=n)}catch(n){l=n}throw l}function $(l,n){var u,t=n.__t;l=o(a,null,[l]),u=[],d(n,n.__t=l,t,i,void 0!==n.ownerSVGElement,t?null:r.slice.call(n.childNodes),u,l),x(u,l)}function j(l,n){n.__t=null,$(l,n)}function z(l,n){return n=e(e({},l.props),n),arguments.length>2&&(n.children=r.slice.call(arguments,2)),c(l.type,n,null,n.key||l.key,n.ref||l.ref)}function D(l){var n,u=\"__cC\"+t++,i={__c:u,__p:l};function r(l,n){return l.children(n)}return r.contextType=i,i.Consumer=r,(n={})[u]=null,i.Provider=function(l){var t,i;return this.getChildContext||(i=[],(t=this).getChildContext=function(){return n[u]=t,n},t.componentDidUpdate=function(){var l=t.props.value;i.map(function(n){return l!==n.context&&(n.context=l,y(n))})},t.sub=function(l){i.push(l);var n=l.componentWillUnmount;l.componentWillUnmount=function(){i.splice(i.indexOf(l),1),n&&n()}}),l.children},i}l={},v.prototype.setState=function(l,n){var u=this.__s!==this.state&&this.__s||(this.__s=e({},this.state));this.i=e({},u),(\"function\"!=typeof l||(l=l(u,this.props)))&&e(u,l),null!=l&&(null!=n&&this.__h.push(n),this.u=!1,y(this))},v.prototype.forceUpdate=function(l){var n,u=this.__v,t=this.__v.__e,i=this.t;null!=i&&(null==this.u&&(this.u=!0),null!=(t=_(t,i,u,u,this.__n,void 0!==i.ownerSVGElement,null,n=[],this.__a))&&t.parentNode!==i&&i.appendChild(t),x(n,u),this.u=null),null!=l&&l()},v.prototype.render=a,n=[],u=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,t=0;export{$ as render,j as hydrate,o as createElement,o as h,a as Fragment,s as createRef,v as Component,z as cloneElement,D as createContext,b as toChildArray,l as options};\n//# sourceMappingURL=preact.mjs.map\n","import { encodeEntities, indent, isLargeString, styleObjToCss, assign, getChildren } from './util';\nimport { ENABLE_PRETTY } from '../env';\nimport { options } from 'preact';\n\nconst SHALLOW = { shallow: true };\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nconst VOID_ELEMENTS = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\n\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n */\nrenderToString.render = renderToString;\n\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\n\n/** The default export is an alias of `render()`. */\nfunction renderToString(vnode, context, opts, inner, isSvgMode) {\n\tif (vnode==null || typeof vnode==='boolean') {\n\t\treturn '';\n\t}\n\n\tlet nodeName = vnode.type,\n\t\tprops = vnode.props,\n\t\tisComponent = false;\n\tcontext = context || {};\n\topts = opts || {};\n\n\tlet pretty = ENABLE_PRETTY && opts.pretty,\n\t\tindentChar = pretty && typeof pretty==='string' ? pretty : '\\t';\n\n\t// #text nodes\n\tif (typeof vnode!=='object' && !nodeName) {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// components\n\tif (typeof nodeName==='function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent===false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t}\n\t\telse {\n\t\t\tlet rendered;\n\t\t\t\n\t\t\tlet c = vnode.__c = { __v: vnode, context, props: vnode.props };\n\t\t\tif (options.render) options.render(vnode);\n\n\t\t\tif (!nodeName.prototype || typeof nodeName.prototype.render!=='function') {\n\t\t\t\t// stateless functional components\n\t\t\t\trendered = nodeName.call(vnode.__c, props, context);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// class-based components\n\t\t\t\t// c = new nodeName(props, context);\n\t\t\t\tc = vnode.__c = new nodeName(props, context);\n\t\t\t\tc.__v = vnode;\n\t\t\t\t// turn off stateful re-rendering:\n\t\t\t\tc._dirty = c.__d = true;\n\t\t\t\tc.props = props;\n\t\t\t\tc.context = context;\n\t\t\t\tif (nodeName.getDerivedStateFromProps) c.state = assign(assign({}, c.state), nodeName.getDerivedStateFromProps(c.props, c.state));\n\t\t\t\telse if (c.componentWillMount) c.componentWillMount();\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\t\t\t}\n\t\t\t\n\t\t\tif (c.getChildContext) {\n\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t}\n\n\t\t\treturn renderToString(rendered, context, opts, opts.shallowHighOrder!==false);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '', html;\n\n\tif (props) {\n\t\tlet attrs = Object.keys(props);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes===true) attrs.sort();\n\n\t\tfor (let i=0; i<attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = props[name];\n\t\t\tif (name==='children') continue;\n\n\t\t\tif (name.match(/[\\s\\n\\\\/='\"\\0<>]/)) continue;\n\n\t\t\tif (!(opts && opts.allAttributes) && (name==='key' || name==='ref')) continue;\n\n\t\t\tif (name==='className') {\n\t\t\t\tif (props.class) continue;\n\t\t\t\tname = 'class';\n\t\t\t}\n\t\t\telse if (isSvgMode && name.match(/^xlink:?./)) {\n\t\t\t\tname = name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t\t\t}\n\n\t\t\tif (name==='style' && v && typeof v==='object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\tlet hooked = opts.attributeHook && opts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked==='') {\n\t\t\t\ts += hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name==='dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t}\n\t\t\telse if ((v || v===0 || v==='') && typeof v!=='function') {\n\t\t\t\tif (v===true || v==='') {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts += ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts += ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tif (pretty) {\n\t\tlet sub = s.replace(/^\\n\\s*/, ' ');\n\t\tif (sub!==s && !~sub.indexOf('\\n')) s = sub;\n\t\telse if (pretty && ~s.indexOf('\\n')) s += '\\n';\n\t}\n\n\ts = `<${nodeName}${s}>`;\n\tif (String(nodeName).match(/[\\s\\n\\\\/='\"\\0<>]/)) throw s;\n\n\tlet isVoid = String(nodeName).match(VOID_ELEMENTS);\n\tif (isVoid) s = s.replace(/>$/, ' />');\n\n\tlet pieces = [];\n\n\tlet children;\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts += html;\n\t}\n\telse if (props && getChildren(children = [], props.children).length) {\n\t\tlet hasLarge = pretty && ~s.indexOf('\\n');\n\t\tfor (let i=0; i<children.length; i++) {\n\t\t\tlet child = children[i];\n\t\t\tif (child!=null && child!==false) {\n\t\t\t\tlet childSvgMode = nodeName==='svg' ? true : nodeName==='foreignObject' ? false : isSvgMode,\n\t\t\t\t\tret = renderToString(child, context, opts, true, childSvgMode);\n\t\t\t\tif (pretty && !hasLarge && isLargeString(ret)) hasLarge = true;\n\t\t\t\tif (ret) pieces.push(ret);\n\t\t\t}\n\t\t}\n\t\tif (pretty && hasLarge) {\n\t\t\tfor (let i=pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pieces.length) {\n\t\ts += pieces.join('');\n\t}\n\telse if (opts && opts.xml) {\n\t\treturn s.substring(0, s.length-1) + ' />';\n\t}\n\n\tif (!isVoid) {\n\t\tif (pretty && ~s.indexOf('\\n')) s += '\\n';\n\t\ts += `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\treturn component.displayName || component!==Function && component.name || getFallbackComponentName(component);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^( ]+)/) || '')[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i=UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i]===component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index<0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\nrenderToString.shallowRender = shallowRender;\n\nexport default renderToString;\n\nexport {\n\trenderToString as render,\n\trenderToString,\n\tshallowRender\n};\n"],"names":["const","l","IS_NON_DIMENSIONAL","encodeEntities","s","String","replace","JS_TO_CSS","styleObjToCss","let","str","prop","val","toLowerCase","test","undefined","assign","obj","props","i","getChildren","accumulator","children","Array","isArray","reduce","push","Promise","resolve","then","bind","setTimeout","SHALLOW","shallow","UNNAMED","VOID_ELEMENTS","renderToString","render","shallowRender","vnode","context","opts","inner","isSvgMode","component","nodeName","type","isComponent","renderRootComponent","rendered","c","__c","__v","options","prototype","_dirty","__d","getDerivedStateFromProps","state","componentWillMount","call","getChildContext","shallowHighOrder","displayName","Function","name","toString","match","index","length","getFallbackComponentName","html","attrs","Object","keys","sortAttributes","sort","v","allAttributes","class","hooked","attributeHook","__html","xml","isVoid","pieces","child","ret","join","substring"],"mappings":"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"}